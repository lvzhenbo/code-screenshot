diff --git a/index.js b/index.js
index 2c76249a17e2c57362849b26802279f4e3dc6035..d92c7f9e837f4dda6b2c41ad32e5606ff5a0306d 100644
--- a/index.js
+++ b/index.js
@@ -104,7 +104,43 @@ class ConventionalChangelog extends Plugin {
         whatBumpFn = options.whatBump;
       } else {
         // Use the whatBump from the loaded preset
-        whatBumpFn = bumper.whatBump;
+        whatBumpFn = bumper.config?.whatBump;
+        if (!whatBumpFn || typeof whatBumpFn !== 'function') {
+          // If no whatBump function is available, create a default one
+          whatBumpFn = (commits) => {
+            // Default implementation: analyze commits to determine bump type
+            let level = null;
+            let breakingChanges = 0;
+            let features = 0;
+
+            commits.forEach(commit => {
+              if (commit.notes && commit.notes.length > 0) {
+                breakingChanges += commit.notes.length;
+              }
+              if (commit.type === 'feat' || commit.type === 'feature') {
+                features += 1;
+              }
+            });
+
+            if (breakingChanges > 0) {
+              level = 0; // major
+            } else if (features > 0) {
+              level = 1; // minor
+            } else {
+              level = 2; // patch
+            }
+
+            return {
+              level,
+              releaseType: level === 0 ? 'major' : level === 1 ? 'minor' : 'patch',
+              reason: breakingChanges > 0
+                ? `There are ${breakingChanges} BREAKING CHANGES`
+                : features > 0
+                  ? `There are ${features} features`
+                  : 'There are patches'
+            };
+          };
+        }
       }
 
       const recommendation = await bumper.bump(whatBumpFn);
